{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack:///./src/components/scene.js","webpack:///./src/pages/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/three-orbit-controls/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js"],"names":["_classCallCheck","instance","Constructor","TypeError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_assertThisInitialized","ReferenceError","_setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","_inherits","subClass","superClass","prototype","create","constructor","writable","configurable","GLTFLoader","manager","call","dracoLoader","ddsLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","parser","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsTransmissionExtension","GLTFLightsExtension","GLTFMeshoptCompression","GLTFRegistry","objects","get","add","object","remove","removeAll","assign","load","url","onLoad","onProgress","onError","resourcePath","scope","path","extractUrlBase","itemStart","_onError","e","console","itemError","itemEnd","loader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","data","parse","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","setMeshoptDecoder","callback","indexOf","push","unregister","splice","content","extensions","plugins","decodeText","Uint8Array","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","json","JSON","asset","version","Error","GLTFParser","crossOrigin","fileLoader","i","length","plugin","name","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","warn","setExtensions","setPlugins","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","cache","refs","uses","isSupported","_markDefs","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","light","_addNodeRef","_loadLight","lightIndex","cacheKey","dependency","lightNode","lightDef","lights","color","fromArray","range","type","target","position","set","distance","spot","innerConeAngle","outerConeAngle","Math","PI","angle","penumbra","decay","intensity","createUniqueName","createNodeAttachment","_getNodeRef","getMaterialType","extendParams","materialParams","materialDef","pending","opacity","metallicRoughness","pbrMetallicRoughness","Array","isArray","baseColorFactor","array","baseColorTexture","assignTexture","all","materialIndex","materials","extendMaterialParams","extension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","scale","clearcoatNormalScale","transmissionFactor","transmission","transmissionTexture","loadTexture","textureIndex","textureDef","textures","source","images","options","loadTextureImage","uri","getHandler","textureLoader","detectSupport","image","Image","src","onload","onerror","height","loadBufferView","index","bufferView","bufferViews","extensionDef","buffer","getDependency","decoder","supported","ready","res","byteOffset","byteLength","count","stride","byteStride","result","ArrayBuffer","decodeGltfBuffer","mode","filter","BINARY_EXTENSION_CHUNK_TYPES","body","headerView","DataView","header","magic","slice","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","GLTFMeshStandardSGMaterial","params","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","join","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","uniforms","specular","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","onBeforeCompile","shader","uniformName","fragmentShader","replace","defineProperties","v","defines","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","setValues","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","emissive","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","material","fog","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","decodePrimitive","primitive","bufferViewIndex","gltfAttributeMap","attributes","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","toLowerCase","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","decodeDracoFile","geometry","attribute","extendTexture","texture","transform","clone","offset","rotation","repeat","texCoord","needsUpdate","copy","copySampleValue_","values","valueSize","beforeStart_","afterEnd_","interpolate_","i1","t0","t","t1","stride2","stride3","td","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","WEBGL_CONSTANTS","5120","Int8Array","5121","5122","Int16Array","5123","Uint16Array","5125","Uint32Array","5126","Float32Array","WEBGL_FILTERS","9728","9729","9984","9985","9986","9987","WEBGL_WRAPPINGS","33071","33648","10497","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","STEP","ALPHA_MODES","resolveURL","test","addUnknownExtensionsToUserData","knownExtensions","objectDef","userData","gltfExtensions","assignExtrasToUserData","gltfDef","extras","updateMorphTargets","mesh","meshDef","il","morphTargetInfluences","targetNames","morphTargetDictionary","createAttributesKey","attributesKey","keys","sort","associations","Map","primitiveCache","meshCache","cameraCache","lightCache","nodeNamesUsed","createImageBitmap","navigator","userAgent","setCrossOrigin","addPrimitiveAttributes","primitiveDef","assignAttributeAccessor","accessorIndex","accessor","setAttribute","gltfAttributeName","indices","setIndex","box","min","max","targets","maxDisplacement","vector","setX","abs","setY","setZ","expandByVector","boundingBox","sphere","getCenter","center","radius","distanceTo","boundingSphere","computeBounds","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","normal","morphPositions","morphNormals","morphAttributes","morphTargetsRelative","addMorphTargets","toTrianglesDrawMode","drawMode","getIndex","getAttribute","numberOfTriangles","newIndices","getX","newGeometry","_invokeAll","ext","getDependencies","dependencies","scene","scenes","animations","cameras","catch","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","camera","ref","_invokeOne","func","unshift","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","buffers","bufferViewDef","sparse","pendingBufferViews","bufferAttribute","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","ibSlice","floor","ibCacheKey","ib","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setW","textureExtensions","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","mimeType","colorType","getUint8","blob","Blob","createObjectURL","isImageBitmapLoader","imageBitmap","revokeObjectURL","flipY","format","sampler","samplers","magFilter","minFilter","wrapS","wrapT","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","tangent","useVertexColors","useFlatShading","useSkinning","useMorphTargets","useMorphNormals","isPoints","uuid","pointsMaterial","sizeAttenuation","isLine","lineMaterial","cachedMaterial","skinning","vertexColors","flatShading","morphTargets","vertexTangents","y","uv2","uv","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","side","alphaMode","transparent","depthWrite","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","encoding","originalName","sanitizedName","sanitizeNodeName","loadGeometries","primitives","createDracoPrimitive","dracoExtension","geometryPromise","cached","promise","meshIndex","depthTest","results","geometries","isMeshStandardMaterial","hasAttribute","computeTangents","skinWeight","normalizeSkinWeights","group","cameraIndex","cameraDef","radToDeg","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","node","id","input","parameters","output","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","TypedKeyframeTrack","updateMatrix","matrixAutoUpdate","targetName","interpolation","traverse","isMesh","outputArray","scaled","j","jl","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","nodeName","forEach","matrix","applyMatrix4","quaternion","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","bind","matrixWorld","children","child","sceneIndex","sceneDef","nodeIds","OrbitControls","require","THREE","Scene","componentDidMount","aspect","mount","offsetWidth","offsetHeight","renderer","alpha","setPixelRatio","devicePixelRatio","setSize","outputEncoding","appendChild","domElement","lookAt","ambient","video","document","createElement","props","loop","muted","play","videoImage","width","videoImageContext","getContext","fillStyle","fillRect","videoTexture","model","x","z","controls","enableDamping","dampingFactor","enableZoom","enablePan","animate","requestAnimationFrame","readyState","HAVE_ENOUGH_DATA","drawImage","render","window","addEventListener","onWindowResize","updateProjectionMatrix","style","React","Component","Home","property","receiver","Reflect","base","hasOwnProperty","getPrototypeOf","desc","getOwnPropertyDescriptor","_getPrototypeOf","runtime","exports","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","toString","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","_typeof","_possibleConstructorReturn","assertThisInitialized","_defineProperty","quat","quatInverse","lastPosition","lastQuaternion","enabled","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","zoomSpeed","enableRotate","rotateSpeed","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","MOUSE","ZOOM","MIDDLE","PAN","target0","position0","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","dispatchEvent","changeEvent","update","STATE","NONE","Quaternion","setFromUnitVectors","up","inverse","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","distanceToSquared","EPS","dot","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","startEvent","endEvent","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","pan","deltaX","deltaY","element","PerspectiveCamera","targetDistance","tan","fov","clientHeight","OrthographicCamera","right","left","clientWidth","top","bottom","dollyIn","dollyScale","dollyOut","event","preventDefault","button","clientX","clientY","handleMouseDownRotate","handleMouseDownDolly","handleMouseDownPan","subVectors","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","keyCode","handleKeyDown","touches","pageX","pageY","handleTouchStartRotate","dx","dy","sqrt","handleTouchStartDolly","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","EventDispatcher","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","_defineProperties","descriptor","_createClass","protoProps","staticProps"],"mappings":"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","file":"component---src-pages-index-js-b1139a7397e09f078965.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import { AnimationClip, Bone, Box3, BufferAttribute, BufferGeometry, CanvasTexture, ClampToEdgeWrapping, Color, DirectionalLight, DoubleSide, FileLoader, FrontSide, Group, ImageBitmapLoader, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, Line, LineBasicMaterial, LineLoop, LineSegments, LinearFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, Loader, LoaderUtils, Material, MathUtils, Matrix4, Mesh, MeshBasicMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MirroredRepeatWrapping, NearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NumberKeyframeTrack, Object3D, OrthographicCamera, PerspectiveCamera, PointLight, Points, PointsMaterial, PropertyBinding, QuaternionKeyframeTrack, RGBFormat, RepeatWrapping, Skeleton, SkinnedMesh, Sphere, SpotLight, TangentSpaceNormalMap, TextureLoader, TriangleFanDrawMode, TriangleStripDrawMode, Vector2, Vector3, VectorKeyframeTrack, sRGBEncoding } from '../../../build/three.module.js';\n\nvar GLTFLoader = function () {\n  function GLTFLoader(manager) {\n    Loader.call(this, manager);\n    this.dracoLoader = null;\n    this.ddsLoader = null;\n    this.ktx2Loader = null;\n    this.meshoptDecoder = null;\n    this.pluginCallbacks = [];\n    this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFLightsExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser);\n    });\n  }\n\n  GLTFLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: GLTFLoader,\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var resourcePath;\n\n      if (this.resourcePath !== '') {\n        resourcePath = this.resourcePath;\n      } else if (this.path !== '') {\n        resourcePath = this.path;\n      } else {\n        resourcePath = LoaderUtils.extractUrlBase(url);\n      } // Tells the LoadingManager to track an extra item, which resolves after\n      // the model is fully loaded. This means the count of items loaded will\n      // be incorrect, but ensures manager.onLoad() does not fire early.\n\n\n      this.manager.itemStart(url);\n\n      var _onError = function _onError(e) {\n        if (onError) {\n          onError(e);\n        } else {\n          console.error(e);\n        }\n\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n      };\n\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setResponseType('arraybuffer');\n      loader.setRequestHeader(this.requestHeader);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (data) {\n        try {\n          scope.parse(data, resourcePath, function (gltf) {\n            onLoad(gltf);\n            scope.manager.itemEnd(url);\n          }, _onError);\n        } catch (e) {\n          _onError(e);\n        }\n      }, onProgress, _onError);\n    },\n    setDRACOLoader: function setDRACOLoader(dracoLoader) {\n      this.dracoLoader = dracoLoader;\n      return this;\n    },\n    setDDSLoader: function setDDSLoader(ddsLoader) {\n      this.ddsLoader = ddsLoader;\n      return this;\n    },\n    setKTX2Loader: function setKTX2Loader(ktx2Loader) {\n      this.ktx2Loader = ktx2Loader;\n      return this;\n    },\n    setMeshoptDecoder: function setMeshoptDecoder(meshoptDecoder) {\n      this.meshoptDecoder = meshoptDecoder;\n      return this;\n    },\n    register: function register(callback) {\n      if (this.pluginCallbacks.indexOf(callback) === -1) {\n        this.pluginCallbacks.push(callback);\n      }\n\n      return this;\n    },\n    unregister: function unregister(callback) {\n      if (this.pluginCallbacks.indexOf(callback) !== -1) {\n        this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n      }\n\n      return this;\n    },\n    parse: function parse(data, path, onLoad, onError) {\n      var content;\n      var extensions = {};\n      var plugins = {};\n\n      if (typeof data === 'string') {\n        content = data;\n      } else {\n        var magic = LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\n\n        if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n          try {\n            extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n          } catch (error) {\n            if (onError) onError(error);\n            return;\n          }\n\n          content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\n        } else {\n          content = LoaderUtils.decodeText(new Uint8Array(data));\n        }\n      }\n\n      var json = JSON.parse(content);\n\n      if (json.asset === undefined || json.asset.version[0] < 2) {\n        if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\n        return;\n      }\n\n      var parser = new GLTFParser(json, {\n        path: path || this.resourcePath || '',\n        crossOrigin: this.crossOrigin,\n        manager: this.manager,\n        ktx2Loader: this.ktx2Loader,\n        meshoptDecoder: this.meshoptDecoder\n      });\n      parser.fileLoader.setRequestHeader(this.requestHeader);\n\n      for (var i = 0; i < this.pluginCallbacks.length; i++) {\n        var plugin = this.pluginCallbacks[i](parser);\n        plugins[plugin.name] = plugin; // Workaround to avoid determining as unknown extension\n        // in addUnknownExtensionsToUserData().\n        // Remove this workaround if we move all the existing\n        // extension handlers to plugin system\n\n        extensions[plugin.name] = true;\n      }\n\n      if (json.extensionsUsed) {\n        for (var i = 0; i < json.extensionsUsed.length; ++i) {\n          var extensionName = json.extensionsUsed[i];\n          var extensionsRequired = json.extensionsRequired || [];\n\n          switch (extensionName) {\n            case EXTENSIONS.KHR_MATERIALS_UNLIT:\n              extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n              break;\n\n            case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n              extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n              break;\n\n            case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n              extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n              break;\n\n            case EXTENSIONS.MSFT_TEXTURE_DDS:\n              extensions[extensionName] = new GLTFTextureDDSExtension(this.ddsLoader);\n              break;\n\n            case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n              extensions[extensionName] = new GLTFTextureTransformExtension();\n              break;\n\n            case EXTENSIONS.KHR_MESH_QUANTIZATION:\n              extensions[extensionName] = new GLTFMeshQuantizationExtension();\n              break;\n\n            default:\n              if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n                console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n              }\n\n          }\n        }\n      }\n\n      parser.setExtensions(extensions);\n      parser.setPlugins(plugins);\n      parser.parse(onLoad, onError);\n    }\n  });\n  /* GLTFREGISTRY */\n\n  function GLTFRegistry() {\n    var objects = {};\n    return {\n      get: function get(key) {\n        return objects[key];\n      },\n      add: function add(key, object) {\n        objects[key] = object;\n      },\n      remove: function remove(key) {\n        delete objects[key];\n      },\n      removeAll: function removeAll() {\n        objects = {};\n      }\n    };\n  }\n  /*********************************/\n\n  /********** EXTENSIONS ***********/\n\n  /*********************************/\n\n\n  var EXTENSIONS = {\n    KHR_BINARY_GLTF: 'KHR_binary_glTF',\n    KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n    KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n    KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n    KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n    KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n    KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n    KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n    KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n    KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n    EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n    EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\n    MSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n  };\n  /**\n   * DDS Texture Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n   *\n   */\n\n  function GLTFTextureDDSExtension(ddsLoader) {\n    if (!ddsLoader) {\n      throw new Error('THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader');\n    }\n\n    this.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n    this.ddsLoader = ddsLoader;\n  }\n  /**\n   * Punctual Lights Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n   */\n\n\n  function GLTFLightsExtension(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL; // Object3D instance caches\n\n    this.cache = {\n      refs: {},\n      uses: {}\n    };\n  }\n\n  GLTFLightsExtension.prototype._markDefs = function () {\n    var parser = this.parser;\n    var nodeDefs = this.parser.json.nodes || [];\n\n    for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      var nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\n      }\n    }\n  };\n\n  GLTFLightsExtension.prototype._loadLight = function (lightIndex) {\n    var parser = this.parser;\n    var cacheKey = 'light:' + lightIndex;\n    var dependency = parser.cache.get(cacheKey);\n    if (dependency) return dependency;\n    var json = parser.json;\n    var extensions = json.extensions && json.extensions[this.name] || {};\n    var lightDefs = extensions.lights || [];\n    var lightDef = lightDefs[lightIndex];\n    var lightNode;\n    var color = new Color(0xffffff);\n    if (lightDef.color !== undefined) color.fromArray(lightDef.color);\n    var range = lightDef.range !== undefined ? lightDef.range : 0;\n\n    switch (lightDef.type) {\n      case 'directional':\n        lightNode = new DirectionalLight(color);\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      case 'point':\n        lightNode = new PointLight(color);\n        lightNode.distance = range;\n        break;\n\n      case 'spot':\n        lightNode = new SpotLight(color);\n        lightNode.distance = range; // Handle spotlight properties.\n\n        lightDef.spot = lightDef.spot || {};\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n        lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n        lightNode.angle = lightDef.spot.outerConeAngle;\n        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      default:\n        throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type);\n    } // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n    // here, because node-level parsing will only override position if explicitly specified.\n\n\n    lightNode.position.set(0, 0, 0);\n    lightNode.decay = 2;\n    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\n    lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);\n    dependency = Promise.resolve(lightNode);\n    parser.cache.add(cacheKey, dependency);\n    return dependency;\n  };\n\n  GLTFLightsExtension.prototype.createNodeAttachment = function (nodeIndex) {\n    var self = this;\n    var parser = this.parser;\n    var json = parser.json;\n    var nodeDef = json.nodes[nodeIndex];\n    var lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\n    var lightIndex = lightDef.light;\n    if (lightIndex === undefined) return null;\n    return this._loadLight(lightIndex).then(function (light) {\n      return parser._getNodeRef(self.cache, lightIndex, light);\n    });\n  };\n  /**\n   * Unlit Materials Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n   */\n\n\n  function GLTFMaterialsUnlitExtension() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n  }\n\n  GLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\n    return MeshBasicMaterial;\n  };\n\n  GLTFMaterialsUnlitExtension.prototype.extendParams = function (materialParams, materialDef, parser) {\n    var pending = [];\n    materialParams.color = new Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    var metallicRoughness = materialDef.pbrMetallicRoughness;\n\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        var array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n    }\n\n    return Promise.all(pending);\n  };\n  /**\n   * Clearcoat Materials Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n   */\n\n\n  function GLTFMaterialsClearcoatExtension(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n  }\n\n  GLTFMaterialsClearcoatExtension.prototype.getMaterialType = function (materialIndex) {\n    var parser = this.parser;\n    var materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  };\n\n  GLTFMaterialsClearcoatExtension.prototype.extendMaterialParams = function (materialIndex, materialParams) {\n    var parser = this.parser;\n    var materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    var pending = [];\n    var extension = materialDef.extensions[this.name];\n\n    if (extension.clearcoatFactor !== undefined) {\n      materialParams.clearcoat = extension.clearcoatFactor;\n    }\n\n    if (extension.clearcoatTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\n    }\n\n    if (extension.clearcoatRoughnessFactor !== undefined) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n    }\n\n    if (extension.clearcoatRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\n    }\n\n    if (extension.clearcoatNormalTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\n\n      if (extension.clearcoatNormalTexture.scale !== undefined) {\n        var scale = extension.clearcoatNormalTexture.scale; // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n        materialParams.clearcoatNormalScale = new Vector2(scale, -scale);\n      }\n    }\n\n    return Promise.all(pending);\n  };\n  /**\n   * Transmission Materials Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n   * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n   */\n\n\n  function GLTFMaterialsTransmissionExtension(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n  }\n\n  GLTFMaterialsTransmissionExtension.prototype.getMaterialType = function (materialIndex) {\n    var parser = this.parser;\n    var materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  };\n\n  GLTFMaterialsTransmissionExtension.prototype.extendMaterialParams = function (materialIndex, materialParams) {\n    var parser = this.parser;\n    var materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    var pending = [];\n    var extension = materialDef.extensions[this.name];\n\n    if (extension.transmissionFactor !== undefined) {\n      materialParams.transmission = extension.transmissionFactor;\n    }\n\n    if (extension.transmissionTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));\n    }\n\n    return Promise.all(pending);\n  };\n  /**\n   * BasisU Texture Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n   */\n\n\n  function GLTFTextureBasisUExtension(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n  }\n\n  GLTFTextureBasisUExtension.prototype.loadTexture = function (textureIndex) {\n    var parser = this.parser;\n    var json = parser.json;\n    var textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null;\n    }\n\n    var extension = textureDef.extensions[this.name];\n    var source = json.images[extension.source];\n    var loader = parser.options.ktx2Loader;\n\n    if (!loader) {\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n        throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');\n      } else {\n        // Assumes that the extension is optional and that a fallback texture is present\n        return null;\n      }\n    }\n\n    return parser.loadTextureImage(textureIndex, source, loader);\n  };\n  /**\n   * WebP Texture Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n   */\n\n\n  function GLTFTextureWebPExtension(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n    this.isSupported = null;\n  }\n\n  GLTFTextureWebPExtension.prototype.loadTexture = function (textureIndex) {\n    var name = this.name;\n    var parser = this.parser;\n    var json = parser.json;\n    var textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null;\n    }\n\n    var extension = textureDef.extensions[name];\n    var source = json.images[extension.source];\n    var loader = source.uri ? parser.options.manager.getHandler(source.uri) : parser.textureLoader;\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, source, loader);\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.');\n      } // Fall back to PNG or JPEG.\n\n\n      return parser.loadTexture(textureIndex);\n    });\n  };\n\n  GLTFTextureWebPExtension.prototype.detectSupport = function () {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        var image = new Image(); // Lossy test image. Support for lossy images doesn't guarantee support for all\n        // WebP images, unfortunately.\n\n        image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1);\n        };\n      });\n    }\n\n    return this.isSupported;\n  };\n  /**\n  * meshopt BufferView Compression Extension\n  *\n  * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n  */\n\n\n  function GLTFMeshoptCompression(parser) {\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n    this.parser = parser;\n  }\n\n  GLTFMeshoptCompression.prototype.loadBufferView = function (index) {\n    var json = this.parser.json;\n    var bufferView = json.bufferViews[index];\n\n    if (bufferView.extensions && bufferView.extensions[this.name]) {\n      var extensionDef = bufferView.extensions[this.name];\n      var buffer = this.parser.getDependency('buffer', extensionDef.buffer);\n      var decoder = this.parser.options.meshoptDecoder;\n\n      if (!decoder || !decoder.supported) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files');\n        } else {\n          // Assumes that the extension is optional and that fallback buffer data is present\n          return null;\n        }\n      }\n\n      return Promise.all([buffer, decoder.ready]).then(function (res) {\n        var byteOffset = extensionDef.byteOffset || 0;\n        var byteLength = extensionDef.byteLength || 0;\n        var count = extensionDef.count;\n        var stride = extensionDef.byteStride;\n        var result = new ArrayBuffer(count * stride);\n        var source = new Uint8Array(res[0], byteOffset, byteLength);\n        decoder.decodeGltfBuffer(new Uint8Array(result), count, stride, source, extensionDef.mode, extensionDef.filter);\n        return result;\n      });\n    } else {\n      return null;\n    }\n  };\n  /* BINARY EXTENSION */\n\n\n  var BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n  var BINARY_EXTENSION_HEADER_LENGTH = 12;\n  var BINARY_EXTENSION_CHUNK_TYPES = {\n    JSON: 0x4E4F534A,\n    BIN: 0x004E4942\n  };\n\n  function GLTFBinaryExtension(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF;\n    this.content = null;\n    this.body = null;\n    var headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n    this.header = {\n      magic: LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true)\n    };\n\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\n    } else if (this.header.version < 2.0) {\n      throw new Error('THREE.GLTFLoader: Legacy binary file detected.');\n    }\n\n    var chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n    var chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n    var chunkIndex = 0;\n\n    while (chunkIndex < chunkContentsLength) {\n      var chunkLength = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n      var chunkType = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        var contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n        this.content = LoaderUtils.decodeText(contentArray);\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        var byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n        this.body = data.slice(byteOffset, byteOffset + chunkLength);\n      } // Clients must ignore chunks with unknown types.\n\n\n      chunkIndex += chunkLength;\n    }\n\n    if (this.content === null) {\n      throw new Error('THREE.GLTFLoader: JSON content not found.');\n    }\n  }\n  /**\n   * DRACO Mesh Compression Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n   */\n\n\n  function GLTFDracoMeshCompressionExtension(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n    this.json = json;\n    this.dracoLoader = dracoLoader;\n    this.dracoLoader.preload();\n  }\n\n  GLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function (primitive, parser) {\n    var json = this.json;\n    var dracoLoader = this.dracoLoader;\n    var bufferViewIndex = primitive.extensions[this.name].bufferView;\n    var gltfAttributeMap = primitive.extensions[this.name].attributes;\n    var threeAttributeMap = {};\n    var attributeNormalizedMap = {};\n    var attributeTypeMap = {};\n\n    for (var attributeName in gltfAttributeMap) {\n      var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n    }\n\n    for (attributeName in primitive.attributes) {\n      var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n\n      if (gltfAttributeMap[attributeName] !== undefined) {\n        var accessorDef = json.accessors[primitive.attributes[attributeName]];\n        var componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n        attributeTypeMap[threeAttributeName] = componentType;\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\n      }\n    }\n\n    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n      return new Promise(function (resolve) {\n        dracoLoader.decodeDracoFile(bufferView, function (geometry) {\n          for (var attributeName in geometry.attributes) {\n            var attribute = geometry.attributes[attributeName];\n            var normalized = attributeNormalizedMap[attributeName];\n            if (normalized !== undefined) attribute.normalized = normalized;\n          }\n\n          resolve(geometry);\n        }, threeAttributeMap, attributeTypeMap);\n      });\n    });\n  };\n  /**\n   * Texture Transform Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n   */\n\n\n  function GLTFTextureTransformExtension() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n  }\n\n  GLTFTextureTransformExtension.prototype.extendTexture = function (texture, transform) {\n    texture = texture.clone();\n\n    if (transform.offset !== undefined) {\n      texture.offset.fromArray(transform.offset);\n    }\n\n    if (transform.rotation !== undefined) {\n      texture.rotation = transform.rotation;\n    }\n\n    if (transform.scale !== undefined) {\n      texture.repeat.fromArray(transform.scale);\n    }\n\n    if (transform.texCoord !== undefined) {\n      console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\n    }\n\n    texture.needsUpdate = true;\n    return texture;\n  };\n  /**\n   * Specular-Glossiness Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n   */\n\n  /**\n   * A sub class of StandardMaterial with some of the functionality\n   * changed via the `onBeforeCompile` callback\n   * @pailhead\n   */\n\n\n  function GLTFMeshStandardSGMaterial(params) {\n    MeshStandardMaterial.call(this);\n    this.isGLTFSpecularGlossinessMaterial = true; //various chunks that need replacing\n\n    var specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '\tuniform sampler2D specularMap;', '#endif'].join('\\n');\n    var glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '\tuniform sampler2D glossinessMap;', '#endif'].join('\\n');\n    var specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '\tvec4 texelSpecular = texture2D( specularMap, vUv );', '\ttexelSpecular = sRGBToLinear( texelSpecular );', '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tspecularFactor *= texelSpecular.rgb;', '#endif'].join('\\n');\n    var glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );', '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tglossinessFactor *= texelGlossiness.a;', '#endif'].join('\\n');\n    var lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.specularRoughness += geometryRoughness;', 'material.specularRoughness = min( material.specularRoughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\\n');\n    var uniforms = {\n      specular: {\n        value: new Color().setHex(0xffffff)\n      },\n      glossiness: {\n        value: 1\n      },\n      specularMap: {\n        value: null\n      },\n      glossinessMap: {\n        value: null\n      }\n    };\n    this._extraUniforms = uniforms;\n\n    this.onBeforeCompile = function (shader) {\n      for (var uniformName in uniforms) {\n        shader.uniforms[uniformName] = uniforms[uniformName];\n      }\n\n      shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\n    };\n\n    Object.defineProperties(this, {\n      specular: {\n        get: function get() {\n          return uniforms.specular.value;\n        },\n        set: function set(v) {\n          uniforms.specular.value = v;\n        }\n      },\n      specularMap: {\n        get: function get() {\n          return uniforms.specularMap.value;\n        },\n        set: function set(v) {\n          uniforms.specularMap.value = v;\n\n          if (v) {\n            this.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n          } else {\n            delete this.defines.USE_SPECULARMAP;\n          }\n        }\n      },\n      glossiness: {\n        get: function get() {\n          return uniforms.glossiness.value;\n        },\n        set: function set(v) {\n          uniforms.glossiness.value = v;\n        }\n      },\n      glossinessMap: {\n        get: function get() {\n          return uniforms.glossinessMap.value;\n        },\n        set: function set(v) {\n          uniforms.glossinessMap.value = v;\n\n          if (v) {\n            this.defines.USE_GLOSSINESSMAP = '';\n            this.defines.USE_UV = '';\n          } else {\n            delete this.defines.USE_GLOSSINESSMAP;\n            delete this.defines.USE_UV;\n          }\n        }\n      }\n    });\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    this.setValues(params);\n  }\n\n  GLTFMeshStandardSGMaterial.prototype = Object.create(MeshStandardMaterial.prototype);\n  GLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\n\n  GLTFMeshStandardSGMaterial.prototype.copy = function (source) {\n    MeshStandardMaterial.prototype.copy.call(this, source);\n    this.specularMap = source.specularMap;\n    this.specular.copy(source.specular);\n    this.glossinessMap = source.glossinessMap;\n    this.glossiness = source.glossiness;\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    return this;\n  };\n\n  function GLTFMaterialsPbrSpecularGlossinessExtension() {\n    return {\n      name: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n      specularGlossinessParams: ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'],\n      getMaterialType: function getMaterialType() {\n        return GLTFMeshStandardSGMaterial;\n      },\n      extendParams: function extendParams(materialParams, materialDef, parser) {\n        var pbrSpecularGlossiness = materialDef.extensions[this.name];\n        materialParams.color = new Color(1.0, 1.0, 1.0);\n        materialParams.opacity = 1.0;\n        var pending = [];\n\n        if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\n          var array = pbrSpecularGlossiness.diffuseFactor;\n          materialParams.color.fromArray(array);\n          materialParams.opacity = array[3];\n        }\n\n        if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\n          pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\n        }\n\n        materialParams.emissive = new Color(0.0, 0.0, 0.0);\n        materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n        materialParams.specular = new Color(1.0, 1.0, 1.0);\n\n        if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\n          materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\n        }\n\n        if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\n          var specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n          pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\n          pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\n        }\n\n        return Promise.all(pending);\n      },\n      createMaterial: function createMaterial(materialParams) {\n        var material = new GLTFMeshStandardSGMaterial(materialParams);\n        material.fog = true;\n        material.color = materialParams.color;\n        material.map = materialParams.map === undefined ? null : materialParams.map;\n        material.lightMap = null;\n        material.lightMapIntensity = 1.0;\n        material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n        material.aoMapIntensity = 1.0;\n        material.emissive = materialParams.emissive;\n        material.emissiveIntensity = 1.0;\n        material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n        material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n        material.bumpScale = 1;\n        material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n        material.normalMapType = TangentSpaceNormalMap;\n        if (materialParams.normalScale) material.normalScale = materialParams.normalScale;\n        material.displacementMap = null;\n        material.displacementScale = 1;\n        material.displacementBias = 0;\n        material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n        material.specular = materialParams.specular;\n        material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n        material.glossiness = materialParams.glossiness;\n        material.alphaMap = null;\n        material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n        material.envMapIntensity = 1.0;\n        material.refractionRatio = 0.98;\n        return material;\n      }\n    };\n  }\n  /**\n   * Mesh Quantization Extension\n   *\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n   */\n\n\n  function GLTFMeshQuantizationExtension() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n  }\n  /*********************************/\n\n  /********** INTERPOLATION ********/\n\n  /*********************************/\n  // Spline Interpolation\n  // Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\n\n  function GLTFCubicSplineInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  GLTFCubicSplineInterpolant.prototype = Object.create(Interpolant.prototype);\n  GLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n  GLTFCubicSplineInterpolant.prototype.copySampleValue_ = function (index) {\n    // Copies a sample value to the result buffer. See description of glTF\n    // CUBICSPLINE values layout in interpolate_() function below.\n    var result = this.resultBuffer,\n        values = this.sampleValues,\n        valueSize = this.valueSize,\n        offset = index * valueSize * 3 + valueSize;\n\n    for (var i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i];\n    }\n\n    return result;\n  };\n\n  GLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n  GLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n  GLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {\n    var result = this.resultBuffer;\n    var values = this.sampleValues;\n    var stride = this.valueSize;\n    var stride2 = stride * 2;\n    var stride3 = stride * 3;\n    var td = t1 - t0;\n    var p = (t - t0) / td;\n    var pp = p * p;\n    var ppp = pp * p;\n    var offset1 = i1 * stride3;\n    var offset0 = offset1 - stride3;\n    var s2 = -2 * ppp + 3 * pp;\n    var s3 = ppp - pp;\n    var s0 = 1 - s2;\n    var s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:\n    //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\n    for (var i = 0; i !== stride; i++) {\n      var p0 = values[offset0 + i + stride]; // splineVertex_k\n\n      var m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\n\n      var p1 = values[offset1 + i + stride]; // splineVertex_k+1\n\n      var m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n      result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n    }\n\n    return result;\n  };\n  /*********************************/\n\n  /********** INTERNALS ************/\n\n  /*********************************/\n\n  /* CONSTANTS */\n\n\n  var WEBGL_CONSTANTS = {\n    FLOAT: 5126,\n    //FLOAT_MAT2: 35674,\n    FLOAT_MAT3: 35675,\n    FLOAT_MAT4: 35676,\n    FLOAT_VEC2: 35664,\n    FLOAT_VEC3: 35665,\n    FLOAT_VEC4: 35666,\n    LINEAR: 9729,\n    REPEAT: 10497,\n    SAMPLER_2D: 35678,\n    POINTS: 0,\n    LINES: 1,\n    LINE_LOOP: 2,\n    LINE_STRIP: 3,\n    TRIANGLES: 4,\n    TRIANGLE_STRIP: 5,\n    TRIANGLE_FAN: 6,\n    UNSIGNED_BYTE: 5121,\n    UNSIGNED_SHORT: 5123\n  };\n  var WEBGL_COMPONENT_TYPES = {\n    5120: Int8Array,\n    5121: Uint8Array,\n    5122: Int16Array,\n    5123: Uint16Array,\n    5125: Uint32Array,\n    5126: Float32Array\n  };\n  var WEBGL_FILTERS = {\n    9728: NearestFilter,\n    9729: LinearFilter,\n    9984: NearestMipmapNearestFilter,\n    9985: LinearMipmapNearestFilter,\n    9986: NearestMipmapLinearFilter,\n    9987: LinearMipmapLinearFilter\n  };\n  var WEBGL_WRAPPINGS = {\n    33071: ClampToEdgeWrapping,\n    33648: MirroredRepeatWrapping,\n    10497: RepeatWrapping\n  };\n  var WEBGL_TYPE_SIZES = {\n    'SCALAR': 1,\n    'VEC2': 2,\n    'VEC3': 3,\n    'VEC4': 4,\n    'MAT2': 4,\n    'MAT3': 9,\n    'MAT4': 16\n  };\n  var ATTRIBUTES = {\n    POSITION: 'position',\n    NORMAL: 'normal',\n    TANGENT: 'tangent',\n    TEXCOORD_0: 'uv',\n    TEXCOORD_1: 'uv2',\n    COLOR_0: 'color',\n    WEIGHTS_0: 'skinWeight',\n    JOINTS_0: 'skinIndex'\n  };\n  var PATH_PROPERTIES = {\n    scale: 'scale',\n    translation: 'position',\n    rotation: 'quaternion',\n    weights: 'morphTargetInfluences'\n  };\n  var INTERPOLATION = {\n    CUBICSPLINE: undefined,\n    // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n    // keyframe track will be initialized with a default interpolation type, then modified.\n    LINEAR: InterpolateLinear,\n    STEP: InterpolateDiscrete\n  };\n  var ALPHA_MODES = {\n    OPAQUE: 'OPAQUE',\n    MASK: 'MASK',\n    BLEND: 'BLEND'\n  };\n  /* UTILITY FUNCTIONS */\n\n  function resolveURL(url, path) {\n    // Invalid URL\n    if (typeof url !== 'string' || url === '') return ''; // Host Relative URL\n\n    if (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\n      path = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n    } // Absolute URL http://,https://,//\n\n\n    if (/^(https?:)?\\/\\//i.test(url)) return url; // Data URI\n\n    if (/^data:.*,.*$/i.test(url)) return url; // Blob URL\n\n    if (/^blob:.*$/i.test(url)) return url; // Relative URL\n\n    return path + url;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n   */\n\n\n  function createDefaultMaterial(cache) {\n    if (cache['DefaultMaterial'] === undefined) {\n      cache['DefaultMaterial'] = new MeshStandardMaterial({\n        color: 0xFFFFFF,\n        emissive: 0x000000,\n        metalness: 1,\n        roughness: 1,\n        transparent: false,\n        depthTest: true,\n        side: FrontSide\n      });\n    }\n\n    return cache['DefaultMaterial'];\n  }\n\n  function addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n    // Add unknown glTF extensions to an object's userData.\n    for (var name in objectDef.extensions) {\n      if (knownExtensions[name] === undefined) {\n        object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n        object.userData.gltfExtensions[name] = objectDef.extensions[name];\n      }\n    }\n  }\n  /**\n   * @param {Object3D|Material|BufferGeometry} object\n   * @param {GLTF.definition} gltfDef\n   */\n\n\n  function assignExtrasToUserData(object, gltfDef) {\n    if (gltfDef.extras !== undefined) {\n      if (typeof gltfDef.extras === 'object') {\n        Object.assign(object.userData, gltfDef.extras);\n      } else {\n        console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\n      }\n    }\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n   *\n   * @param {BufferGeometry} geometry\n   * @param {Array<GLTF.Target>} targets\n   * @param {GLTFParser} parser\n   * @return {Promise<BufferGeometry>}\n   */\n\n\n  function addMorphTargets(geometry, targets, parser) {\n    var hasMorphPosition = false;\n    var hasMorphNormal = false;\n\n    for (var i = 0, il = targets.length; i < il; i++) {\n      var target = targets[i];\n      if (target.POSITION !== undefined) hasMorphPosition = true;\n      if (target.NORMAL !== undefined) hasMorphNormal = true;\n      if (hasMorphPosition && hasMorphNormal) break;\n    }\n\n    if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\n    var pendingPositionAccessors = [];\n    var pendingNormalAccessors = [];\n\n    for (var i = 0, il = targets.length; i < il; i++) {\n      var target = targets[i];\n\n      if (hasMorphPosition) {\n        var pendingAccessor = target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position;\n        pendingPositionAccessors.push(pendingAccessor);\n      }\n\n      if (hasMorphNormal) {\n        var pendingAccessor = target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal;\n        pendingNormalAccessors.push(pendingAccessor);\n      }\n    }\n\n    return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {\n      var morphPositions = accessors[0];\n      var morphNormals = accessors[1];\n      if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\n      if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\n      geometry.morphTargetsRelative = true;\n      return geometry;\n    });\n  }\n  /**\n   * @param {Mesh} mesh\n   * @param {GLTF.Mesh} meshDef\n   */\n\n\n  function updateMorphTargets(mesh, meshDef) {\n    mesh.updateMorphTargets();\n\n    if (meshDef.weights !== undefined) {\n      for (var i = 0, il = meshDef.weights.length; i < il; i++) {\n        mesh.morphTargetInfluences[i] = meshDef.weights[i];\n      }\n    } // .extras has user-defined data, so check that .extras.targetNames is an array.\n\n\n    if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n      var targetNames = meshDef.extras.targetNames;\n\n      if (mesh.morphTargetInfluences.length === targetNames.length) {\n        mesh.morphTargetDictionary = {};\n\n        for (var i = 0, il = targetNames.length; i < il; i++) {\n          mesh.morphTargetDictionary[targetNames[i]] = i;\n        }\n      } else {\n        console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\n      }\n    }\n  }\n\n  function createPrimitiveKey(primitiveDef) {\n    var dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n    var geometryKey;\n\n    if (dracoExtension) {\n      geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);\n    } else {\n      geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\n    }\n\n    return geometryKey;\n  }\n\n  function createAttributesKey(attributes) {\n    var attributesKey = '';\n    var keys = Object.keys(attributes).sort();\n\n    for (var i = 0, il = keys.length; i < il; i++) {\n      attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\n    }\n\n    return attributesKey;\n  }\n  /* GLTF PARSER */\n\n\n  function GLTFParser(json, options) {\n    this.json = json || {};\n    this.extensions = {};\n    this.plugins = {};\n    this.options = options || {}; // loader object cache\n\n    this.cache = new GLTFRegistry(); // associations between Three.js objects and glTF elements\n\n    this.associations = new Map(); // BufferGeometry caching\n\n    this.primitiveCache = {}; // Object3D instance caches\n\n    this.meshCache = {\n      refs: {},\n      uses: {}\n    };\n    this.cameraCache = {\n      refs: {},\n      uses: {}\n    };\n    this.lightCache = {\n      refs: {},\n      uses: {}\n    }; // Track node names, to ensure no duplicates\n\n    this.nodeNamesUsed = {}; // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    if (typeof createImageBitmap !== 'undefined' && /Firefox/.test(navigator.userAgent) === false) {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager);\n    } else {\n      this.textureLoader = new TextureLoader(this.options.manager);\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n    this.fileLoader = new FileLoader(this.options.manager);\n    this.fileLoader.setResponseType('arraybuffer');\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true);\n    }\n  }\n\n  GLTFParser.prototype.setExtensions = function (extensions) {\n    this.extensions = extensions;\n  };\n\n  GLTFParser.prototype.setPlugins = function (plugins) {\n    this.plugins = plugins;\n  };\n\n  GLTFParser.prototype.parse = function (onLoad, onError) {\n    var parser = this;\n    var json = this.json;\n    var extensions = this.extensions; // Clear the loader cache\n\n    this.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse\n\n    this._invokeAll(function (ext) {\n      return ext._markDefs && ext._markDefs();\n    });\n\n    Promise.all([this.getDependencies('scene'), this.getDependencies('animation'), this.getDependencies('camera')]).then(function (dependencies) {\n      var result = {\n        scene: dependencies[0][json.scene || 0],\n        scenes: dependencies[0],\n        animations: dependencies[1],\n        cameras: dependencies[2],\n        asset: json.asset,\n        parser: parser,\n        userData: {}\n      };\n      addUnknownExtensionsToUserData(extensions, result, json);\n      assignExtrasToUserData(result, json);\n      onLoad(result);\n    }).catch(onError);\n  };\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n\n\n  GLTFParser.prototype._markDefs = function () {\n    var nodeDefs = this.json.nodes || [];\n    var skinDefs = this.json.skins || [];\n    var meshDefs = this.json.meshes || []; // Nothing in the node definition indicates whether it is a Bone or an\n    // Object3D. Use the skins' joint references to mark bones.\n\n    for (var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      var joints = skinDefs[skinIndex].joints;\n\n      for (var i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true;\n      }\n    } // Iterate over all nodes, marking references to shared resources,\n    // as well as skeleton joints.\n\n\n    for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      var nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.mesh !== undefined) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh); // Nothing in the mesh definition indicates whether it is\n        // a SkinnedMesh or Mesh. Use the node's mesh reference\n        // to mark SkinnedMesh if node has skin.\n\n\n        if (nodeDef.skin !== undefined) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n        }\n      }\n\n      if (nodeDef.camera !== undefined) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera);\n      }\n    }\n  };\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n\n\n  GLTFParser.prototype._addNodeRef = function (cache, index) {\n    if (index === undefined) return;\n\n    if (cache.refs[index] === undefined) {\n      cache.refs[index] = cache.uses[index] = 0;\n    }\n\n    cache.refs[index]++;\n  };\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n\n\n  GLTFParser.prototype._getNodeRef = function (cache, index, object) {\n    if (cache.refs[index] <= 1) return object;\n    var ref = object.clone();\n    ref.name += '_instance_' + cache.uses[index]++;\n    return ref;\n  };\n\n  GLTFParser.prototype._invokeOne = function (func) {\n    var extensions = Object.values(this.plugins);\n    extensions.push(this);\n\n    for (var i = 0; i < extensions.length; i++) {\n      var result = func(extensions[i]);\n      if (result) return result;\n    }\n  };\n\n  GLTFParser.prototype._invokeAll = function (func) {\n    var extensions = Object.values(this.plugins);\n    extensions.unshift(this);\n    var pending = [];\n\n    for (var i = 0; i < extensions.length; i++) {\n      var result = func(extensions[i]);\n      if (result) pending.push(result);\n    }\n\n    return pending;\n  };\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n\n\n  GLTFParser.prototype.getDependency = function (type, index) {\n    var cacheKey = type + ':' + index;\n    var dependency = this.cache.get(cacheKey);\n\n    if (!dependency) {\n      switch (type) {\n        case 'scene':\n          dependency = this.loadScene(index);\n          break;\n\n        case 'node':\n          dependency = this.loadNode(index);\n          break;\n\n        case 'mesh':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMesh && ext.loadMesh(index);\n          });\n          break;\n\n        case 'accessor':\n          dependency = this.loadAccessor(index);\n          break;\n\n        case 'bufferView':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadBufferView && ext.loadBufferView(index);\n          });\n          break;\n\n        case 'buffer':\n          dependency = this.loadBuffer(index);\n          break;\n\n        case 'material':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMaterial && ext.loadMaterial(index);\n          });\n          break;\n\n        case 'texture':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadTexture && ext.loadTexture(index);\n          });\n          break;\n\n        case 'skin':\n          dependency = this.loadSkin(index);\n          break;\n\n        case 'animation':\n          dependency = this.loadAnimation(index);\n          break;\n\n        case 'camera':\n          dependency = this.loadCamera(index);\n          break;\n\n        default:\n          throw new Error('Unknown type: ' + type);\n      }\n\n      this.cache.add(cacheKey, dependency);\n    }\n\n    return dependency;\n  };\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n\n\n  GLTFParser.prototype.getDependencies = function (type) {\n    var dependencies = this.cache.get(type);\n\n    if (!dependencies) {\n      var parser = this;\n      var defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\n      dependencies = Promise.all(defs.map(function (def, index) {\n        return parser.getDependency(type, index);\n      }));\n      this.cache.add(type, dependencies);\n    }\n\n    return dependencies;\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  GLTFParser.prototype.loadBuffer = function (bufferIndex) {\n    var bufferDef = this.json.buffers[bufferIndex];\n    var loader = this.fileLoader;\n\n    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\n    } // If present, GLB container is required to be the first buffer.\n\n\n    if (bufferDef.uri === undefined && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n    }\n\n    var options = this.options;\n    return new Promise(function (resolve, reject) {\n      loader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n      });\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  GLTFParser.prototype.loadBufferView = function (bufferViewIndex) {\n    var bufferViewDef = this.json.bufferViews[bufferViewIndex];\n    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n      var byteLength = bufferViewDef.byteLength || 0;\n      var byteOffset = bufferViewDef.byteOffset || 0;\n      return buffer.slice(byteOffset, byteOffset + byteLength);\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n\n\n  GLTFParser.prototype.loadAccessor = function (accessorIndex) {\n    var parser = this;\n    var json = this.json;\n    var accessorDef = this.json.accessors[accessorIndex];\n\n    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n      // Ignore empty accessors, which may be used to declare runtime\n      // information about attributes coming from another source (e.g. Draco\n      // compression extension).\n      return Promise.resolve(null);\n    }\n\n    var pendingBufferViews = [];\n\n    if (accessorDef.bufferView !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\n    } else {\n      pendingBufferViews.push(null);\n    }\n\n    if (accessorDef.sparse !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\n    }\n\n    return Promise.all(pendingBufferViews).then(function (bufferViews) {\n      var bufferView = bufferViews[0];\n      var itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n      var TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\n      var elementBytes = TypedArray.BYTES_PER_ELEMENT;\n      var itemBytes = elementBytes * itemSize;\n      var byteOffset = accessorDef.byteOffset || 0;\n      var byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\n      var normalized = accessorDef.normalized === true;\n      var array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.\n\n      if (byteStride && byteStride !== itemBytes) {\n        // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n        // This makes sure that IBA.count reflects accessor.count properly\n        var ibSlice = Math.floor(byteOffset / byteStride);\n        var ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n        var ib = parser.cache.get(ibCacheKey);\n\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.\n\n          ib = new InterleavedBuffer(array, byteStride / elementBytes);\n          parser.cache.add(ibCacheKey, ib);\n        }\n\n        bufferAttribute = new InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize);\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n        }\n\n        bufferAttribute = new BufferAttribute(array, itemSize, normalized);\n      } // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\n\n      if (accessorDef.sparse !== undefined) {\n        var itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n        var TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n        var byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n        var byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n        var sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\n        var sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n\n        if (bufferView !== null) {\n          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n          bufferAttribute = new BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\n        }\n\n        for (var i = 0, il = sparseIndices.length; i < il; i++) {\n          var index = sparseIndices[i];\n          bufferAttribute.setX(index, sparseValues[i * itemSize]);\n          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\n        }\n      }\n\n      return bufferAttribute;\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture>}\n   */\n\n\n  GLTFParser.prototype.loadTexture = function (textureIndex) {\n    var parser = this;\n    var json = this.json;\n    var options = this.options;\n    var textureDef = json.textures[textureIndex];\n    var textureExtensions = textureDef.extensions || {};\n    var source;\n\n    if (textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS]) {\n      source = json.images[textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS].source];\n    } else {\n      source = json.images[textureDef.source];\n    }\n\n    var loader;\n\n    if (source.uri) {\n      loader = options.manager.getHandler(source.uri);\n    }\n\n    if (!loader) {\n      loader = textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS] ? parser.extensions[EXTENSIONS.MSFT_TEXTURE_DDS].ddsLoader : this.textureLoader;\n    }\n\n    return this.loadTextureImage(textureIndex, source, loader);\n  };\n\n  GLTFParser.prototype.loadTextureImage = function (textureIndex, source, loader) {\n    var parser = this;\n    var json = this.json;\n    var options = this.options;\n    var textureDef = json.textures[textureIndex];\n    var URL = self.URL || self.webkitURL;\n    var sourceURI = source.uri;\n    var isObjectURL = false;\n    var hasAlpha = true;\n    if (source.mimeType === 'image/jpeg') hasAlpha = false;\n\n    if (source.bufferView !== undefined) {\n      // Load binary image data from bufferView, if provided.\n      sourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {\n        if (source.mimeType === 'image/png') {\n          // Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n          // alpha channel. This check is conservative — the image could have an alpha\n          // channel with all values == 1, and the indexed type (colorType == 3) only\n          // sometimes contains alpha.\n          //\n          // https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n          var colorType = new DataView(bufferView, 25, 1).getUint8(0, false);\n          hasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n        }\n\n        isObjectURL = true;\n        var blob = new Blob([bufferView], {\n          type: source.mimeType\n        });\n        sourceURI = URL.createObjectURL(blob);\n        return sourceURI;\n      });\n    }\n\n    return Promise.resolve(sourceURI).then(function (sourceURI) {\n      return new Promise(function (resolve, reject) {\n        var onLoad = resolve;\n\n        if (loader.isImageBitmapLoader === true) {\n          onLoad = function onLoad(imageBitmap) {\n            resolve(new CanvasTexture(imageBitmap));\n          };\n        }\n\n        loader.load(resolveURL(sourceURI, options.path), onLoad, undefined, reject);\n      });\n    }).then(function (texture) {\n      // Clean up resources and configure Texture.\n      if (isObjectURL === true) {\n        URL.revokeObjectURL(sourceURI);\n      }\n\n      texture.flipY = false;\n      if (textureDef.name) texture.name = textureDef.name; // When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\n      if (!hasAlpha) texture.format = RGBFormat;\n      var samplers = json.samplers || {};\n      var sampler = samplers[textureDef.sampler] || {};\n      texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter;\n      texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter;\n      texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping;\n      texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping;\n      parser.associations.set(texture, {\n        type: 'textures',\n        index: textureIndex\n      });\n      return texture;\n    });\n  };\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise}\n   */\n\n\n  GLTFParser.prototype.assignTexture = function (materialParams, mapName, mapDef) {\n    var parser = this;\n    return this.getDependency('texture', mapDef.index).then(function (texture) {\n      // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n      // However, we will copy UV set 0 to UV set 1 on demand for aoMap\n      if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\n        console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\n      }\n\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        var transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\n\n        if (transform) {\n          var gltfReference = parser.associations.get(texture);\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n          parser.associations.set(texture, gltfReference);\n        }\n      }\n\n      materialParams[mapName] = texture;\n    });\n  };\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accomodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n\n\n  GLTFParser.prototype.assignFinalMaterial = function (mesh) {\n    var geometry = mesh.geometry;\n    var material = mesh.material;\n    var useVertexTangents = geometry.attributes.tangent !== undefined;\n    var useVertexColors = geometry.attributes.color !== undefined;\n    var useFlatShading = geometry.attributes.normal === undefined;\n    var useSkinning = mesh.isSkinnedMesh === true;\n    var useMorphTargets = Object.keys(geometry.morphAttributes).length > 0;\n    var useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n    if (mesh.isPoints) {\n      var cacheKey = 'PointsMaterial:' + material.uuid;\n      var pointsMaterial = this.cache.get(cacheKey);\n\n      if (!pointsMaterial) {\n        pointsMaterial = new PointsMaterial();\n        Material.prototype.copy.call(pointsMaterial, material);\n        pointsMaterial.color.copy(material.color);\n        pointsMaterial.map = material.map;\n        pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n        this.cache.add(cacheKey, pointsMaterial);\n      }\n\n      material = pointsMaterial;\n    } else if (mesh.isLine) {\n      var cacheKey = 'LineBasicMaterial:' + material.uuid;\n      var lineMaterial = this.cache.get(cacheKey);\n\n      if (!lineMaterial) {\n        lineMaterial = new LineBasicMaterial();\n        Material.prototype.copy.call(lineMaterial, material);\n        lineMaterial.color.copy(material.color);\n        this.cache.add(cacheKey, lineMaterial);\n      }\n\n      material = lineMaterial;\n    } // Clone the material if it will be modified\n\n\n    if (useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets) {\n      var cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n      if (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';\n      if (useSkinning) cacheKey += 'skinning:';\n      if (useVertexTangents) cacheKey += 'vertex-tangents:';\n      if (useVertexColors) cacheKey += 'vertex-colors:';\n      if (useFlatShading) cacheKey += 'flat-shading:';\n      if (useMorphTargets) cacheKey += 'morph-targets:';\n      if (useMorphNormals) cacheKey += 'morph-normals:';\n      var cachedMaterial = this.cache.get(cacheKey);\n\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone();\n        if (useSkinning) cachedMaterial.skinning = true;\n        if (useVertexColors) cachedMaterial.vertexColors = true;\n        if (useFlatShading) cachedMaterial.flatShading = true;\n        if (useMorphTargets) cachedMaterial.morphTargets = true;\n        if (useMorphNormals) cachedMaterial.morphNormals = true;\n\n        if (useVertexTangents) {\n          cachedMaterial.vertexTangents = true; // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n          if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1;\n          if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1;\n        }\n\n        this.cache.add(cacheKey, cachedMaterial);\n        this.associations.set(cachedMaterial, this.associations.get(material));\n      }\n\n      material = cachedMaterial;\n    } // workarounds for mesh and geometry\n\n\n    if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\n      geometry.setAttribute('uv2', geometry.attributes.uv);\n    }\n\n    mesh.material = material;\n  };\n\n  GLTFParser.prototype.getMaterialType = function ()\n  /* materialIndex */\n  {\n    return MeshStandardMaterial;\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n\n\n  GLTFParser.prototype.loadMaterial = function (materialIndex) {\n    var parser = this;\n    var json = this.json;\n    var extensions = this.extensions;\n    var materialDef = json.materials[materialIndex];\n    var materialType;\n    var materialParams = {};\n    var materialExtensions = materialDef.extensions || {};\n    var pending = [];\n\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\n      var sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\n      materialType = sgExtension.getMaterialType();\n      pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\n    } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      var kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n      materialType = kmuExtension.getMaterialType();\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n    } else {\n      // Specification:\n      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n      var metallicRoughness = materialDef.pbrMetallicRoughness || {};\n      materialParams.color = new Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        var array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n\n      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n      materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n      if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\n        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\n      }\n\n      materialType = this._invokeOne(function (ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex);\n      });\n      pending.push(Promise.all(this._invokeAll(function (ext) {\n        return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\n      })));\n    }\n\n    if (materialDef.doubleSided === true) {\n      materialParams.side = DoubleSide;\n    }\n\n    var alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true; // See: https://github.com/mrdoob/three.js/issues/17706\n\n      materialParams.depthWrite = false;\n    } else {\n      materialParams.transparent = false;\n\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n      }\n    }\n\n    if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture)); // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n      materialParams.normalScale = new Vector2(1, -1);\n\n      if (materialDef.normalTexture.scale !== undefined) {\n        materialParams.normalScale.set(materialDef.normalTexture.scale, -materialDef.normalTexture.scale);\n      }\n    }\n\n    if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\n\n      if (materialDef.occlusionTexture.strength !== undefined) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n      }\n    }\n\n    if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n      materialParams.emissive = new Color().fromArray(materialDef.emissiveFactor);\n    }\n\n    if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\n    }\n\n    return Promise.all(pending).then(function () {\n      var material;\n\n      if (materialType === GLTFMeshStandardSGMaterial) {\n        material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\n      } else {\n        material = new materialType(materialParams);\n      }\n\n      if (materialDef.name) material.name = materialDef.name; // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\n      if (material.map) material.map.encoding = sRGBEncoding;\n      if (material.emissiveMap) material.emissiveMap.encoding = sRGBEncoding;\n      assignExtrasToUserData(material, materialDef);\n      parser.associations.set(material, {\n        type: 'materials',\n        index: materialIndex\n      });\n      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\n      return material;\n    });\n  };\n  /** When Object3D instances are targeted by animation, they need unique names. */\n\n\n  GLTFParser.prototype.createUniqueName = function (originalName) {\n    var sanitizedName = PropertyBinding.sanitizeNodeName(originalName || '');\n    var name = sanitizedName;\n\n    for (var i = 1; this.nodeNamesUsed[name]; ++i) {\n      name = sanitizedName + '_' + i;\n    }\n\n    this.nodeNamesUsed[name] = true;\n    return name;\n  };\n  /**\n   * @param {BufferGeometry} geometry\n   * @param {GLTF.Primitive} primitiveDef\n   * @param {GLTFParser} parser\n   */\n\n\n  function computeBounds(geometry, primitiveDef, parser) {\n    var attributes = primitiveDef.attributes;\n    var box = new Box3();\n\n    if (attributes.POSITION !== undefined) {\n      var accessor = parser.json.accessors[attributes.POSITION];\n      var min = accessor.min;\n      var max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n      if (min !== undefined && max !== undefined) {\n        box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]));\n      } else {\n        console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n        return;\n      }\n    } else {\n      return;\n    }\n\n    var targets = primitiveDef.targets;\n\n    if (targets !== undefined) {\n      var maxDisplacement = new Vector3();\n      var vector = new Vector3();\n\n      for (var i = 0, il = targets.length; i < il; i++) {\n        var target = targets[i];\n\n        if (target.POSITION !== undefined) {\n          var accessor = parser.json.accessors[target.POSITION];\n          var min = accessor.min;\n          var max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n          if (min !== undefined && max !== undefined) {\n            // we need to get max of absolute components because target weight is [-1,1]\n            vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])));\n            vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])));\n            vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2]))); // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n            // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n            // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n            // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\n            maxDisplacement.max(vector);\n          } else {\n            console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n          }\n        }\n      } // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\n\n      box.expandByVector(maxDisplacement);\n    }\n\n    geometry.boundingBox = box;\n    var sphere = new Sphere();\n    box.getCenter(sphere.center);\n    sphere.radius = box.min.distanceTo(box.max) / 2;\n    geometry.boundingSphere = sphere;\n  }\n  /**\n   * @param {BufferGeometry} geometry\n   * @param {GLTF.Primitive} primitiveDef\n   * @param {GLTFParser} parser\n   * @return {Promise<BufferGeometry>}\n   */\n\n\n  function addPrimitiveAttributes(geometry, primitiveDef, parser) {\n    var attributes = primitiveDef.attributes;\n    var pending = [];\n\n    function assignAttributeAccessor(accessorIndex, attributeName) {\n      return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n        geometry.setAttribute(attributeName, accessor);\n      });\n    }\n\n    for (var gltfAttributeName in attributes) {\n      var threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.\n\n      if (threeAttributeName in geometry.attributes) continue;\n      pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n    }\n\n    if (primitiveDef.indices !== undefined && !geometry.index) {\n      var accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n        geometry.setIndex(accessor);\n      });\n      pending.push(accessor);\n    }\n\n    assignExtrasToUserData(geometry, primitiveDef);\n    computeBounds(geometry, primitiveDef, parser);\n    return Promise.all(pending).then(function () {\n      return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\n    });\n  }\n  /**\n   * @param {BufferGeometry} geometry\n   * @param {Number} drawMode\n   * @return {BufferGeometry}\n   */\n\n\n  function toTrianglesDrawMode(geometry, drawMode) {\n    var index = geometry.getIndex(); // generate index if not present\n\n    if (index === null) {\n      var indices = [];\n      var position = geometry.getAttribute('position');\n\n      if (position !== undefined) {\n        for (var i = 0; i < position.count; i++) {\n          indices.push(i);\n        }\n\n        geometry.setIndex(indices);\n        index = geometry.getIndex();\n      } else {\n        console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\n        return geometry;\n      }\n    } //\n\n\n    var numberOfTriangles = index.count - 2;\n    var newIndices = [];\n\n    if (drawMode === TriangleFanDrawMode) {\n      // gl.TRIANGLE_FAN\n      for (var i = 1; i <= numberOfTriangles; i++) {\n        newIndices.push(index.getX(0));\n        newIndices.push(index.getX(i));\n        newIndices.push(index.getX(i + 1));\n      }\n    } else {\n      // gl.TRIANGLE_STRIP\n      for (var i = 0; i < numberOfTriangles; i++) {\n        if (i % 2 === 0) {\n          newIndices.push(index.getX(i));\n          newIndices.push(index.getX(i + 1));\n          newIndices.push(index.getX(i + 2));\n        } else {\n          newIndices.push(index.getX(i + 2));\n          newIndices.push(index.getX(i + 1));\n          newIndices.push(index.getX(i));\n        }\n      }\n    }\n\n    if (newIndices.length / 3 !== numberOfTriangles) {\n      console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\n    } // build final geometry\n\n\n    var newGeometry = geometry.clone();\n    newGeometry.setIndex(newIndices);\n    return newGeometry;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n\n\n  GLTFParser.prototype.loadGeometries = function (primitives) {\n    var parser = this;\n    var extensions = this.extensions;\n    var cache = this.primitiveCache;\n\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {\n        return addPrimitiveAttributes(geometry, primitive, parser);\n      });\n    }\n\n    var pending = [];\n\n    for (var i = 0, il = primitives.length; i < il; i++) {\n      var primitive = primitives[i];\n      var cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry\n\n      var cached = cache[cacheKey];\n\n      if (cached) {\n        // Use the cached geometry if it exists\n        pending.push(cached.promise);\n      } else {\n        var geometryPromise;\n\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          // Use DRACO geometry if available\n          geometryPromise = createDracoPrimitive(primitive);\n        } else {\n          // Otherwise create a new geometry\n          geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser);\n        } // Cache this geometry\n\n\n        cache[cacheKey] = {\n          primitive: primitive,\n          promise: geometryPromise\n        };\n        pending.push(geometryPromise);\n      }\n    }\n\n    return Promise.all(pending);\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n\n\n  GLTFParser.prototype.loadMesh = function (meshIndex) {\n    var parser = this;\n    var json = this.json;\n    var extensions = this.extensions;\n    var meshDef = json.meshes[meshIndex];\n    var primitives = meshDef.primitives;\n    var pending = [];\n\n    for (var i = 0, il = primitives.length; i < il; i++) {\n      var material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);\n      pending.push(material);\n    }\n\n    pending.push(parser.loadGeometries(primitives));\n    return Promise.all(pending).then(function (results) {\n      var materials = results.slice(0, results.length - 1);\n      var geometries = results[results.length - 1];\n      var meshes = [];\n\n      for (var i = 0, il = geometries.length; i < il; i++) {\n        var geometry = geometries[i];\n        var primitive = primitives[i]; // 1. create Mesh\n\n        var mesh;\n        var material = materials[i];\n\n        if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {\n          // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n          mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, material) : new Mesh(geometry, material); // Fix double sided rendered models on certain mobile devices, see https://github.com/mrdoob/three.js/issues/20997#issuecomment-756082184\n\n          if (material.isMeshStandardMaterial === true && material.side === DoubleSide && geometry.getIndex() !== null && geometry.hasAttribute('position') === true && geometry.hasAttribute('normal') === true && geometry.hasAttribute('uv') === true && geometry.hasAttribute('tangent') === false) {\n            geometry.computeTangents();\n            material.vertexTangents = true;\n          }\n\n          if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\n            // we normalize floating point skin weight array to fix malformed assets (see #15319)\n            // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n            mesh.normalizeSkinWeights();\n          }\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode);\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode);\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new LineSegments(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new Line(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new LineLoop(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new Points(geometry, material);\n        } else {\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\n        }\n\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef);\n        }\n\n        mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);\n        assignExtrasToUserData(mesh, meshDef);\n        if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive);\n        parser.assignFinalMaterial(mesh);\n        meshes.push(mesh);\n      }\n\n      if (meshes.length === 1) {\n        return meshes[0];\n      }\n\n      var group = new Group();\n\n      for (var i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i]);\n      }\n\n      return group;\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n\n\n  GLTFParser.prototype.loadCamera = function (cameraIndex) {\n    var camera;\n    var cameraDef = this.json.cameras[cameraIndex];\n    var params = cameraDef[cameraDef.type];\n\n    if (!params) {\n      console.warn('THREE.GLTFLoader: Missing camera parameters.');\n      return;\n    }\n\n    if (cameraDef.type === 'perspective') {\n      camera = new PerspectiveCamera(MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\n    } else if (cameraDef.type === 'orthographic') {\n      camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);\n    }\n\n    if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);\n    assignExtrasToUserData(camera, cameraDef);\n    return Promise.resolve(camera);\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Object>}\n   */\n\n\n  GLTFParser.prototype.loadSkin = function (skinIndex) {\n    var skinDef = this.json.skins[skinIndex];\n    var skinEntry = {\n      joints: skinDef.joints\n    };\n\n    if (skinDef.inverseBindMatrices === undefined) {\n      return Promise.resolve(skinEntry);\n    }\n\n    return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {\n      skinEntry.inverseBindMatrices = accessor;\n      return skinEntry;\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n\n\n  GLTFParser.prototype.loadAnimation = function (animationIndex) {\n    var json = this.json;\n    var animationDef = json.animations[animationIndex];\n    var pendingNodes = [];\n    var pendingInputAccessors = [];\n    var pendingOutputAccessors = [];\n    var pendingSamplers = [];\n    var pendingTargets = [];\n\n    for (var i = 0, il = animationDef.channels.length; i < il; i++) {\n      var channel = animationDef.channels[i];\n      var sampler = animationDef.samplers[channel.sampler];\n      var target = channel.target;\n      var name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\n      var input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\n      var output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\n      pendingNodes.push(this.getDependency('node', name));\n      pendingInputAccessors.push(this.getDependency('accessor', input));\n      pendingOutputAccessors.push(this.getDependency('accessor', output));\n      pendingSamplers.push(sampler);\n      pendingTargets.push(target);\n    }\n\n    return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {\n      var nodes = dependencies[0];\n      var inputAccessors = dependencies[1];\n      var outputAccessors = dependencies[2];\n      var samplers = dependencies[3];\n      var targets = dependencies[4];\n      var tracks = [];\n\n      for (var i = 0, il = nodes.length; i < il; i++) {\n        var node = nodes[i];\n        var inputAccessor = inputAccessors[i];\n        var outputAccessor = outputAccessors[i];\n        var sampler = samplers[i];\n        var target = targets[i];\n        if (node === undefined) continue;\n        node.updateMatrix();\n        node.matrixAutoUpdate = true;\n        var TypedKeyframeTrack;\n\n        switch (PATH_PROPERTIES[target.path]) {\n          case PATH_PROPERTIES.weights:\n            TypedKeyframeTrack = NumberKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.rotation:\n            TypedKeyframeTrack = QuaternionKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.position:\n          case PATH_PROPERTIES.scale:\n          default:\n            TypedKeyframeTrack = VectorKeyframeTrack;\n            break;\n        }\n\n        var targetName = node.name ? node.name : node.uuid;\n        var interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear;\n        var targetNames = [];\n\n        if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n          // Node may be a Group (glTF mesh with several primitives) or a Mesh.\n          node.traverse(function (object) {\n            if (object.isMesh === true && object.morphTargetInfluences) {\n              targetNames.push(object.name ? object.name : object.uuid);\n            }\n          });\n        } else {\n          targetNames.push(targetName);\n        }\n\n        var outputArray = outputAccessor.array;\n\n        if (outputAccessor.normalized) {\n          var scale;\n\n          if (outputArray.constructor === Int8Array) {\n            scale = 1 / 127;\n          } else if (outputArray.constructor === Uint8Array) {\n            scale = 1 / 255;\n          } else if (outputArray.constructor == Int16Array) {\n            scale = 1 / 32767;\n          } else if (outputArray.constructor === Uint16Array) {\n            scale = 1 / 65535;\n          } else {\n            throw new Error('THREE.GLTFLoader: Unsupported output accessor component type.');\n          }\n\n          var scaled = new Float32Array(outputArray.length);\n\n          for (var j = 0, jl = outputArray.length; j < jl; j++) {\n            scaled[j] = outputArray[j] * scale;\n          }\n\n          outputArray = scaled;\n        }\n\n        for (var j = 0, jl = targetNames.length; j < jl; j++) {\n          var track = new TypedKeyframeTrack(targetNames[j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.\n\n          if (sampler.interpolation === 'CUBICSPLINE') {\n            track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n              // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n              // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n              // must be divided by three to get the interpolant's sampleSize argument.\n              return new GLTFCubicSplineInterpolant(this.times, this.values, this.getValueSize() / 3, result);\n            }; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\n\n            track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n          }\n\n          tracks.push(track);\n        }\n      }\n\n      var name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n      return new AnimationClip(name, undefined, tracks);\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n\n\n  GLTFParser.prototype.loadNode = function (nodeIndex) {\n    var json = this.json;\n    var extensions = this.extensions;\n    var parser = this;\n    var nodeDef = json.nodes[nodeIndex]; // reserve node's name before its dependencies, so the root has the intended name.\n\n    var nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';\n    return function () {\n      var pending = [];\n\n      if (nodeDef.mesh !== undefined) {\n        pending.push(parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n          var node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh); // if weights are provided on the node, override weights on the mesh.\n\n\n          if (nodeDef.weights !== undefined) {\n            node.traverse(function (o) {\n              if (!o.isMesh) return;\n\n              for (var i = 0, il = nodeDef.weights.length; i < il; i++) {\n                o.morphTargetInfluences[i] = nodeDef.weights[i];\n              }\n            });\n          }\n\n          return node;\n        }));\n      }\n\n      if (nodeDef.camera !== undefined) {\n        pending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\n        }));\n      }\n\n      parser._invokeAll(function (ext) {\n        return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\n      }).forEach(function (promise) {\n        pending.push(promise);\n      });\n\n      return Promise.all(pending);\n    }().then(function (objects) {\n      var node; // .isBone isn't in glTF spec. See ._markDefs\n\n      if (nodeDef.isBone === true) {\n        node = new Bone();\n      } else if (objects.length > 1) {\n        node = new Group();\n      } else if (objects.length === 1) {\n        node = objects[0];\n      } else {\n        node = new Object3D();\n      }\n\n      if (node !== objects[0]) {\n        for (var i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i]);\n        }\n      }\n\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name;\n        node.name = nodeName;\n      }\n\n      assignExtrasToUserData(node, nodeDef);\n      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\n\n      if (nodeDef.matrix !== undefined) {\n        var matrix = new Matrix4();\n        matrix.fromArray(nodeDef.matrix);\n        node.applyMatrix4(matrix);\n      } else {\n        if (nodeDef.translation !== undefined) {\n          node.position.fromArray(nodeDef.translation);\n        }\n\n        if (nodeDef.rotation !== undefined) {\n          node.quaternion.fromArray(nodeDef.rotation);\n        }\n\n        if (nodeDef.scale !== undefined) {\n          node.scale.fromArray(nodeDef.scale);\n        }\n      }\n\n      parser.associations.set(node, {\n        type: 'nodes',\n        index: nodeIndex\n      });\n      return node;\n    });\n  };\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n\n\n  GLTFParser.prototype.loadScene = function () {\n    // scene node hierachy builder\n    function buildNodeHierachy(nodeId, parentObject, json, parser) {\n      var nodeDef = json.nodes[nodeId];\n      return parser.getDependency('node', nodeId).then(function (node) {\n        if (nodeDef.skin === undefined) return node; // build skeleton here as well\n\n        var skinEntry;\n        return parser.getDependency('skin', nodeDef.skin).then(function (skin) {\n          skinEntry = skin;\n          var pendingJoints = [];\n\n          for (var i = 0, il = skinEntry.joints.length; i < il; i++) {\n            pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\n          }\n\n          return Promise.all(pendingJoints);\n        }).then(function (jointNodes) {\n          node.traverse(function (mesh) {\n            if (!mesh.isMesh) return;\n            var bones = [];\n            var boneInverses = [];\n\n            for (var j = 0, jl = jointNodes.length; j < jl; j++) {\n              var jointNode = jointNodes[j];\n\n              if (jointNode) {\n                bones.push(jointNode);\n                var mat = new Matrix4();\n\n                if (skinEntry.inverseBindMatrices !== undefined) {\n                  mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\n                }\n\n                boneInverses.push(mat);\n              } else {\n                console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\n              }\n            }\n\n            mesh.bind(new Skeleton(bones, boneInverses), mesh.matrixWorld);\n          });\n          return node;\n        });\n      }).then(function (node) {\n        // build node hierachy\n        parentObject.add(node);\n        var pending = [];\n\n        if (nodeDef.children) {\n          var children = nodeDef.children;\n\n          for (var i = 0, il = children.length; i < il; i++) {\n            var child = children[i];\n            pending.push(buildNodeHierachy(child, node, json, parser));\n          }\n        }\n\n        return Promise.all(pending);\n      });\n    }\n\n    return function loadScene(sceneIndex) {\n      var json = this.json;\n      var extensions = this.extensions;\n      var sceneDef = this.json.scenes[sceneIndex];\n      var parser = this; // Loader returns Group, not Scene.\n      // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\n      var scene = new Group();\n      if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);\n      assignExtrasToUserData(scene, sceneDef);\n      if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n      var nodeIds = sceneDef.nodes || [];\n      var pending = [];\n\n      for (var i = 0, il = nodeIds.length; i < il; i++) {\n        pending.push(buildNodeHierachy(nodeIds[i], scene, json, parser));\n      }\n\n      return Promise.all(pending).then(function () {\n        return scene;\n      });\n    };\n  }();\n\n  return GLTFLoader;\n}();\n\nexport { GLTFLoader };","import React from \"react\"\r\nimport * as THREE from \"three\"\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nconst OrbitControls = require('three-orbit-controls')(THREE)\r\n\r\n\r\n\r\nclass Scene extends React.Component {\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        const scene = new THREE.Scene();\r\n\r\n        const fov = 60;\r\n        const aspect = this.mount.offsetWidth / this.mount.offsetHeight;\r\n        const near = 0.1;\r\n        const far = 1500;\r\n\r\n        this.camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\r\n        this.camera.position.set(0, 0, - 10);\r\n\r\n        this.renderer = new THREE.WebGLRenderer({ alpha: false });\r\n        this.renderer.setPixelRatio(this.mount.devicePixelRatio);\r\n        this.renderer.setSize(this.mount.offsetWidth, this.mount.offsetHeight);\r\n        this.renderer.outputEncoding = THREE.sRGBEncoding;\r\n        this.mount.appendChild(this.renderer.domElement);\r\n\r\n        const light = new THREE.SpotLight(0xffffff);\r\n        light.position.copy(this.camera.position);\r\n        light.lookAt(scene.position);\r\n        scene.add(light);\r\n\r\n        const ambient = new THREE.AmbientLight(0xffffff, 1);\r\n        light.position.copy(this.camera.position);\r\n        light.lookAt(scene.position);\r\n        scene.add(ambient);\r\n\r\n        // we need to render the video to the DOM in order to\r\n        // display it in a material.\r\n        const video = document.createElement('video');\r\n        video.src = this.props.video;\r\n        video.loop = true;\r\n        // most browsers will only allow autoplay when the video\r\n        // is muted\r\n        video.muted = true;\r\n        \r\n        video.load();\r\n        video.play();\r\n\r\n        const videoImage = document.createElement('canvas');\r\n        videoImage.width = 2024;\r\n        videoImage.height = 3840;\r\n\r\n        const videoImageContext = videoImage.getContext('2d');\r\n        videoImageContext.fillStyle = '#0000000';\r\n        videoImageContext.fillRect(0, 0, videoImage.width, videoImage.height);\r\n\r\n        const videoTexture = new THREE.Texture(videoImage);\r\n        videoTexture.minFilter = THREE.LinearFilter;\r\n        videoTexture.magFilter = THREE.LinearFilter;\r\n\r\n        const loader = new GLTFLoader();\r\n\r\n        loader.load(this.props.model, function (gltf) {\r\n\r\n            scene.add(gltf.scene);\r\n            // rotate and move the model to center and\r\n            // center and face the camera\r\n            gltf.scene.rotation.x = Math.PI / 2;\r\n            gltf.scene.rotation.z = Math.PI;\r\n            gltf.scene.position.y = -2;\r\n\r\n            // loop through all model elements\r\n            gltf.scene.traverse(child => {\r\n                // find the \"screen\" and replace its material\r\n                // with the video material\r\n                if (child.name === 'Screen_0') {\r\n                    child.material.map = videoTexture;\r\n                }\r\n                // ambient light currently does not support the material\r\n                // metalness property, so set it to a low number\r\n                if (child.material) child.material.metalness = 0.5;\r\n\r\n            });\r\n\r\n        }, undefined, function (error) {\r\n            console.error(error);\r\n        });\r\n\r\n\r\n        // setup camera to orbit around the center of the scene.\r\n        const controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n        controls.enableDamping = true;\r\n        controls.dampingFactor = 1.8;\r\n        controls.enableZoom = false;\r\n        controls.enablePan = false;\r\n\r\n\r\n\r\n\r\n        this.animate = function () {\r\n            requestAnimationFrame(this.animate.bind(this));\r\n\r\n            // instead rotating the object, the camera rotates around\r\n            // the scene. that messes with the lights. I could fix this\r\n            // properly and just rotate the object *OR* just link the light\r\n            // to the camera :) \r\n            light.position.copy(this.camera.position);\r\n            light.lookAt(scene.position);\r\n\r\n            // draw and update the video \r\n            if (video.readyState === video.HAVE_ENOUGH_DATA) {\r\n                videoImageContext.drawImage(video, 0, 0);\r\n                if (videoTexture) videoTexture.needsUpdate = true;\r\n            }\r\n\r\n            this.renderer.render(scene, this.camera);\r\n        };\r\n\r\n        this.animate();\r\n        // scene size is linked to the html element size its linked too. so we need to update the scene\r\n        // size when the element size changes\r\n        window.addEventListener('resize', this.onWindowResize.bind(this), false);\r\n    }\r\n\r\n\r\n\r\n    onWindowResize() {\r\n        if (this.mount) {\r\n            this.camera.aspect = this.mount.offsetWidth / this.mount.offsetHeight;\r\n            this.camera.updateProjectionMatrix();\r\n            this.renderer.setSize(this.mount.offsetWidth, this.mount.offsetHeight);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={ref => (this.mount = ref)} style={{ width: this.props.width, height: this.props.height }}></div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Scene;","import React from \"react\";\r\nimport Scene from \"../components/scene\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <Scene model='./model/scene.gltf' video='./video.mp4' width='100vw' height='100vh' />\r\n  )\r\n}","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","module.exports = require(\"regenerator-runtime\");\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","module.exports = function (THREE) {\n  /**\n   * @author qiao / https://github.com/qiao\n   * @author mrdoob / http://mrdoob.com\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author erich666 / http://erichaines.com\n   */\n  // This set of controls performs orbiting, dollying (zooming), and panning.\n  // Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n  //\n  //    Orbit - left mouse / touch: one finger move\n  //    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n  //    Pan - right mouse, or arrow keys / touch: three finter swipe\n  function OrbitControls(object, domElement) {\n    this.object = object;\n    this.domElement = domElement !== undefined ? domElement : document; // Set to false to disable this control\n\n    this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\n\n    this.target = new THREE.Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\n\n    this.minDistance = 0;\n    this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\n\n    this.minZoom = 0;\n    this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n\n    this.minPolarAngle = 0; // radians\n\n    this.maxPolarAngle = Math.PI; // radians\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\n    this.minAzimuthAngle = -Infinity; // radians\n\n    this.maxAzimuthAngle = Infinity; // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n\n    this.enableDamping = false;\n    this.dampingFactor = 0.25; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n\n    this.enableZoom = true;\n    this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n    this.enableRotate = true;\n    this.rotateSpeed = 1.0; // Set to false to disable panning\n\n    this.enablePan = true;\n    this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n    // Set to false to disable use of the keys\n\n    this.enableKeys = true; // The four arrow keys\n\n    this.keys = {\n      LEFT: 37,\n      UP: 38,\n      RIGHT: 39,\n      BOTTOM: 40\n    }; // Mouse buttons\n\n    this.mouseButtons = {\n      ORBIT: THREE.MOUSE.LEFT,\n      ZOOM: THREE.MOUSE.MIDDLE,\n      PAN: THREE.MOUSE.RIGHT\n    }; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom; //\n    // public methods\n    //\n\n    this.getPolarAngle = function () {\n      return spherical.phi;\n    };\n\n    this.getAzimuthalAngle = function () {\n      return spherical.theta;\n    };\n\n    this.reset = function () {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n      scope.object.zoom = scope.zoom0;\n      scope.object.updateProjectionMatrix();\n      scope.dispatchEvent(changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n    this.update = function () {\n      var offset = new THREE.Vector3(); // so camera.up is the orbit axis\n\n      var quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n      var quatInverse = quat.clone().inverse();\n      var lastPosition = new THREE.Vector3();\n      var lastQuaternion = new THREE.Quaternion();\n      return function update() {\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n        offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n        spherical.setFromVector3(offset);\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n\n        spherical.theta += sphericalDelta.theta;\n        spherical.phi += sphericalDelta.phi; // restrict theta to be between desired limits\n\n        spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta)); // restrict phi to be between desired limits\n\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale; // restrict radius to be between desired limits\n\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n        scope.target.add(panOffset);\n        offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n        } else {\n          sphericalDelta.set(0, 0, 0);\n        }\n\n        scale = 1;\n        panOffset.set(0, 0, 0); // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n\n        return false;\n      };\n    }();\n\n    this.dispose = function () {\n      scope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n      scope.domElement.removeEventListener('mousedown', onMouseDown, false);\n      scope.domElement.removeEventListener('wheel', onMouseWheel, false);\n      scope.domElement.removeEventListener('touchstart', onTouchStart, false);\n      scope.domElement.removeEventListener('touchend', onTouchEnd, false);\n      scope.domElement.removeEventListener('touchmove', onTouchMove, false);\n      document.removeEventListener('mousemove', onMouseMove, false);\n      document.removeEventListener('mouseup', onMouseUp, false);\n      window.removeEventListener('keydown', onKeyDown, false); //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    }; //\n    // internals\n    //\n\n\n    var scope = this;\n    var changeEvent = {\n      type: 'change'\n    };\n    var startEvent = {\n      type: 'start'\n    };\n    var endEvent = {\n      type: 'end'\n    };\n    var STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_DOLLY: 4,\n      TOUCH_PAN: 5\n    };\n    var state = STATE.NONE;\n    var EPS = 0.000001; // current position in spherical coordinates\n\n    var spherical = new THREE.Spherical();\n    var sphericalDelta = new THREE.Spherical();\n    var scale = 1;\n    var panOffset = new THREE.Vector3();\n    var zoomChanged = false;\n    var rotateStart = new THREE.Vector2();\n    var rotateEnd = new THREE.Vector2();\n    var rotateDelta = new THREE.Vector2();\n    var panStart = new THREE.Vector2();\n    var panEnd = new THREE.Vector2();\n    var panDelta = new THREE.Vector2();\n    var dollyStart = new THREE.Vector2();\n    var dollyEnd = new THREE.Vector2();\n    var dollyDelta = new THREE.Vector2();\n\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function rotateLeft(angle) {\n      sphericalDelta.theta -= angle;\n    }\n\n    function rotateUp(angle) {\n      sphericalDelta.phi -= angle;\n    }\n\n    var panLeft = function () {\n      var v = new THREE.Vector3();\n      return function panLeft(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    }();\n\n    var panUp = function () {\n      var v = new THREE.Vector3();\n      return function panUp(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    }(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n    var pan = function () {\n      var offset = new THREE.Vector3();\n      return function pan(deltaX, deltaY) {\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        if (scope.object instanceof THREE.PerspectiveCamera) {\n          // perspective\n          var position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          var targetDistance = offset.length(); // half of the fov is center to top of screen\n\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we actually don't use screenWidth, since perspective camera is fixed to screen height\n\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (scope.object instanceof THREE.OrthographicCamera) {\n          // orthographic\n          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n          scope.enablePan = false;\n        }\n      };\n    }();\n\n    function dollyIn(dollyScale) {\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    }\n\n    function dollyOut(dollyScale) {\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    } //\n    // event callbacks - update the object state\n    //\n\n\n    function handleMouseDownRotate(event) {\n      //console.log( 'handleMouseDownRotate' );\n      rotateStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownDolly(event) {\n      //console.log( 'handleMouseDownDolly' );\n      dollyStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownPan(event) {\n      //console.log( 'handleMouseDownPan' );\n      panStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseMoveRotate(event) {\n      //console.log( 'handleMouseMoveRotate' );\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart);\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement; // rotating across whole screen goes 360 degrees around\n\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleMouseMoveDolly(event) {\n      //console.log( 'handleMouseMoveDolly' );\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyIn(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyOut(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleMouseMovePan(event) {\n      //console.log( 'handleMouseMovePan' );\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleMouseUp(event) {//console.log( 'handleMouseUp' );\n    }\n\n    function handleMouseWheel(event) {\n      //console.log( 'handleMouseWheel' );\n      if (event.deltaY < 0) {\n        dollyOut(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyIn(getZoomScale());\n      }\n\n      scope.update();\n    }\n\n    function handleKeyDown(event) {\n      //console.log( 'handleKeyDown' );\n      switch (event.keyCode) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          scope.update();\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          scope.update();\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          scope.update();\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          scope.update();\n          break;\n      }\n    }\n\n    function handleTouchStartRotate(event) {\n      //console.log( 'handleTouchStartRotate' );\n      rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    }\n\n    function handleTouchStartDolly(event) {\n      //console.log( 'handleTouchStartDolly' );\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n\n    function handleTouchStartPan(event) {\n      //console.log( 'handleTouchStartPan' );\n      panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    }\n\n    function handleTouchMoveRotate(event) {\n      //console.log( 'handleTouchMoveRotate' );\n      rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      rotateDelta.subVectors(rotateEnd, rotateStart);\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement; // rotating across whole screen goes 360 degrees around\n\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleTouchMoveDolly(event) {\n      //console.log( 'handleTouchMoveDolly' );\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleTouchMovePan(event) {\n      //console.log( 'handleTouchMovePan' );\n      panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      panDelta.subVectors(panEnd, panStart);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleTouchEnd(event) {//console.log( 'handleTouchEnd' );\n    } //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n\n    function onMouseDown(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n\n      if (event.button === scope.mouseButtons.ORBIT) {\n        if (scope.enableRotate === false) return;\n        handleMouseDownRotate(event);\n        state = STATE.ROTATE;\n      } else if (event.button === scope.mouseButtons.ZOOM) {\n        if (scope.enableZoom === false) return;\n        handleMouseDownDolly(event);\n        state = STATE.DOLLY;\n      } else if (event.button === scope.mouseButtons.PAN) {\n        if (scope.enablePan === false) return;\n        handleMouseDownPan(event);\n        state = STATE.PAN;\n      }\n\n      if (state !== STATE.NONE) {\n        document.addEventListener('mousemove', onMouseMove, false);\n        document.addEventListener('mouseup', onMouseUp, false);\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n\n      if (state === STATE.ROTATE) {\n        if (scope.enableRotate === false) return;\n        handleMouseMoveRotate(event);\n      } else if (state === STATE.DOLLY) {\n        if (scope.enableZoom === false) return;\n        handleMouseMoveDolly(event);\n      } else if (state === STATE.PAN) {\n        if (scope.enablePan === false) return;\n        handleMouseMovePan(event);\n      }\n    }\n\n    function onMouseUp(event) {\n      if (scope.enabled === false) return;\n      handleMouseUp(event);\n      document.removeEventListener('mousemove', onMouseMove, false);\n      document.removeEventListener('mouseup', onMouseUp, false);\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n      event.preventDefault();\n      event.stopPropagation();\n      handleMouseWheel(event);\n      scope.dispatchEvent(startEvent); // not sure why these are here...\n\n      scope.dispatchEvent(endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n      handleKeyDown(event);\n    }\n\n    function onTouchStart(event) {\n      if (scope.enabled === false) return;\n\n      switch (event.touches.length) {\n        case 1:\n          // one-fingered touch: rotate\n          if (scope.enableRotate === false) return;\n          handleTouchStartRotate(event);\n          state = STATE.TOUCH_ROTATE;\n          break;\n\n        case 2:\n          // two-fingered touch: dolly\n          if (scope.enableZoom === false) return;\n          handleTouchStartDolly(event);\n          state = STATE.TOUCH_DOLLY;\n          break;\n\n        case 3:\n          // three-fingered touch: pan\n          if (scope.enablePan === false) return;\n          handleTouchStartPan(event);\n          state = STATE.TOUCH_PAN;\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onTouchMove(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n      event.stopPropagation();\n\n      switch (event.touches.length) {\n        case 1:\n          // one-fingered touch: rotate\n          if (scope.enableRotate === false) return;\n          if (state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n          handleTouchMoveRotate(event);\n          break;\n\n        case 2:\n          // two-fingered touch: dolly\n          if (scope.enableZoom === false) return;\n          if (state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n\n          handleTouchMoveDolly(event);\n          break;\n\n        case 3:\n          // three-fingered touch: pan\n          if (scope.enablePan === false) return;\n          if (state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n          handleTouchMovePan(event);\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function onTouchEnd(event) {\n      if (scope.enabled === false) return;\n      handleTouchEnd(event);\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onContextMenu(event) {\n      event.preventDefault();\n    } //\n\n\n    scope.domElement.addEventListener('contextmenu', onContextMenu, false);\n    scope.domElement.addEventListener('mousedown', onMouseDown, false);\n    scope.domElement.addEventListener('wheel', onMouseWheel, false);\n    scope.domElement.addEventListener('touchstart', onTouchStart, false);\n    scope.domElement.addEventListener('touchend', onTouchEnd, false);\n    scope.domElement.addEventListener('touchmove', onTouchMove, false);\n    window.addEventListener('keydown', onKeyDown, false); // force an update at start\n\n    this.update();\n  }\n\n  ;\n  OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\n  OrbitControls.prototype.constructor = OrbitControls;\n  Object.defineProperties(OrbitControls.prototype, {\n    center: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .center has been renamed to .target');\n        return this.target;\n      }\n    },\n    // backward compatibility\n    noZoom: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n        return !this.enableZoom;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n        this.enableZoom = !value;\n      }\n    },\n    noRotate: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n        return !this.enableRotate;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n        this.enableRotate = !value;\n      }\n    },\n    noPan: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n        return !this.enablePan;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n        this.enablePan = !value;\n      }\n    },\n    noKeys: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n        return !this.enableKeys;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n        this.enableKeys = !value;\n      }\n    },\n    staticMoving: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n        return !this.enableDamping;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n        this.enableDamping = !value;\n      }\n    },\n    dynamicDampingFactor: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n        return this.dampingFactor;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n        this.dampingFactor = value;\n      }\n    }\n  });\n  return OrbitControls;\n};","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}"],"sourceRoot":""}